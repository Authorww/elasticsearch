**ES 是什么：**
是一个分布式文档存储中间件，他不会将数据存储为列数据行，而是存储一序列化为json文档的复杂数据结构。当你再一个集群中有多个节点的时候，存储的文档分布在整个集群里面。
**当文档备存储时候**，他将建立索引并实时（1S）被搜索。ES 被称为**倒排索引的数据结构，**该数据结构支持全文搜索。在倒排索引里列出了所有文档中出现的每一个唯一单词并分别标识了每个单词在哪个文档中。
**ES之所以快速搜索原因：**
**索引**可以被认为是文档的优化集合，每个文档索引都是字段的集合，这些字段包含了数据的键值对。默认情况下，**es 为每个字段中的所有数据建立倒排索引**，并且每个索引字段都有专门的优化数据结构。例如，文本字段在倒排索引里，数值和地理字段被存储在BKD中。正是因为通过使用按字段数据结构组合。
**ES 具备能力：**
默认模式能力：这意味着文档建立索引的时候无需明确指定每个字段的数据类型。当启用动态映射的时时候，会自动检测将新字段添加到索引。该默认行为使索引和浏览数据变得容易，只要文档开始建立索引ES 就会检测布尔值，浮点数和整数值，日期域自渡川，并将映射到对应的数据类型中。但是，最终你应该比程序更加了解数据结构以及去使用他们，你可以定义映射的规则，并且明确的定义mapping,去更深度的控制字段的存储和索引的方式。
**ES 信息查询与分词**
        ES 提供了一个简单、连贯RESTFUL  API 用于管理集群，索引和搜索数据。出于在测试的目的，可以通过命令或者Kibana 中的开发者控制台中很轻松提交请求。在自己的应用程序中，你可以将ES 客户端用于自己的用语言。
       ** 搜索数据：**Es 支持结构化查询，群问本查询和结合这两种查询的复杂语言。结构化查询类似于SQL 中构造查询类型。例如你可以在员工索引中搜索gender 和 age 字段，案后按照hire_date 字段进行排序。全文查询会查找跟查询到跟查询匹配的所有文档，并返回按照相关性排序的文档。除了搜索单个字段外还可以执行短语搜索，相似性搜索和前缀搜索。
**分析数据：ES聚合API 使你能够建立复杂的数据的复杂摘要，**并且深入了解关键指标，模式和趋势。通过聚**  **
**创建文档:**
**插入数据：**es 有多种方式插入数据，但最终都执行同样的操作，将json 文档放入Es 索引中。最简单的方式使用put 请求。
这个请求（如果不存在）将自动创建ID为1 的新文档，并存储键值对，并为其建立索引。
```
PUT /customer/_doc/1{
    "name":"John Doe"
}

//返回结果
{
  "_index":"customer",
  "_type":"_doc",
  "_id":"1",
  "_version":"created",
  "_shards":{
    "total":2,
    "successful":2,
    "failed":0
  },
  "_seq_no":26,
  "_primary_term":4
}
```
**获取数据：**你可以在集群的任何一个节点获取文档，你也可以GET请求指定ID 文档
```
GET /customer/_doc/1
返回结果显示找到对应的指定文档并返回原始字段信息
{
   "_index":"customer",
   "_type":"_doc",
   "_id":"1",
   "_version":"1",
   "_seq_no":"26",
   "_primary_term":4,
   "found":true,
   "_source":{
       "name":"John Doe"
   }
}
```
**批量插入数据：**如果有大量的文档需要插入，你可以使用BULK_API 批量插入数据。使用BULK_API 要比单独请求提交要快，是因为它最大限度的减少了网络传输次数。
最佳批量插入大小取决于许多因素：文档带线啊哦和复杂性、索引、搜索负载以及集群的可用资源。每次批量处理最好在1000-5000 个文档，文档大小最好在5M-15M 之间。

